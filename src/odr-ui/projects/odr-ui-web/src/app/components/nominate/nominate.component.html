<!-- Copyright (c) Microsoft Corporation.
     Licensed under the MIT License. -->

<div class="layout-page container" *ngIf="isAuthenticated | async">
  <div class="col-lg-12">
    <h2>Nominate a Dataset</h2>

    <div *ngIf="hasSubmittedForm">
      <p>
        Thank you for your submission.
      </p>
    </div>

    <div *ngIf="isEditingForm">
      <p>
        If you have found an interesting dataset that you think should be
        included in this collection, please provide the following details so we
        can evaluate it.
      </p>

      <app-dataset-edit-form
        [controls]="controls"
        [licenseEntry]="licenseEntry"
        [updateCounter]="updateCounter"
        (onSubmit)="submitNomination($event)"
        #editForm
      >
        <div class="form-group">
          <button
            data-testid="submit"
            type="button"
            class="button"
            (click)="editForm.submitDatasetForm()"
            [disabled]="isSubmitDisabled"
          >
            Submit Dataset
          </button>
          <span class="help-block" *ngIf="hasSubmissionError">
            Error occurred while submitting the dataset nomination.
          </span>
        </div>
      </app-dataset-edit-form>
    </div>
  </div>
</div>
